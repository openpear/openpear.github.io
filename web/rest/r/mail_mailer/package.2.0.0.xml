<?xml version="1.0" encoding="UTF-8"?>
<package packagerversion="1.8.1" version="2.0" xmlns="http://pear.php.net/dtd/package-2.0" xmlns:tasks="http://pear.php.net/dtd/tasks-1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pear.php.net/dtd/tasks-1.0     http://pear.php.net/dtd/tasks-1.0.xsd     http://pear.php.net/dtd/package-2.0     http://pear.php.net/dtd/package-2.0.xsd">
 <name>Mail_Mailer</name>
 <channel>openpear.org</channel>
 <summary>*概要
メールの送信が行えるPEAR Mailと
メールの受信が行えるNet_POP3を
ラップしてメールの送受信が簡単に出来るようにした
ライブラリです

*機能一覧
-Net_POP3を使用した簡易メール受信
-PEAR::Mailを使用したメール送信
-ファイルの添付
-CCおよびBCC送信
-メールの文字コードの自動検出
-使用ライブラリの判別(使わない機能のために使わないライブラリを要求しない)
-インストールされたライブラリに応じた、使用出来る機能の表示機能
-Smartyを使用した、本文におけるメールテンプレート機能
-送信確認画面支援機能
-Smartyを使用する場合は、自動的にディレクトリを生成する

*動作環境
-PHP 5以降
-Net_POP3必須(受信の場合)
-Mail_mimeDecode必須(受信の場合)
-PEAR::Mail必須(送信の場合)


送信と受信のサンプルは
sampleディレクトリにそれぞれ
Send.phpとGet.phpという名前で入っています


簡単/主要なメソッド紹介
*getMail
メールを受信します。
その前にインスタンスから受信するための
設定を行う必要があります。
例:$mail-&gt;set(&apos;host&apos;, &apos;localhost&apos;);
引数にtrueを指定すると、Smartyの
foreachでまわしやすい配列の形で返します。


*addDelete
インスタンスからaddDeleteにメッセージ番号を
入れていきます。
メッセージ番号は$mail-&gt;get(&apos;id&apos;)で取得可能です。
そして、deleteMsgメソッドへ・・・


*deleteMsg
addDeleteで追加されたIDのメッセージだけを
削除します。


*mailerinfo
所謂phpinfoみたいな機能です。
インストールされているライブラリを確認して
使える機能の一覧を返します。


*send
メールを送信するメソッドです。
引数にtrueを入れると、送信確認用の
文字列を受け取る事が出来ます(当然ですが
その場合は送信される事はありません)


*set
値をオブジェクトにセットします


*get
指定された名前の値を取得します</summary>
 <description>*概要
メールの送信が行えるPEAR Mailと
メールの受信が行えるNet_POP3を
ラップしてメールの送受信が簡単に出来るようにした
ライブラリです

*機能一覧
-Net_POP3を使用した簡易メール受信
-PEAR::Mailを使用したメール送信
-ファイルの添付
-CCおよびBCC送信
-メールの文字コードの自動検出
-使用ライブラリの判別(使わない機能のために使わないライブラリを要求しない)
-インストールされたライブラリに応じた、使用出来る機能の表示機能
-Smartyを使用した、本文におけるメールテンプレート機能
-送信確認画面支援機能
-Smartyを使用する場合は、自動的にディレクトリを生成する

*動作環境
-PHP 5以降
-Net_POP3必須(受信の場合)
-Mail_mimeDecode必須(受信の場合)
-PEAR::Mail必須(送信の場合)


送信と受信のサンプルは
sampleディレクトリにそれぞれ
Send.phpとGet.phpという名前で入っています


簡単/主要なメソッド紹介
*getMail
メールを受信します。
その前にインスタンスから受信するための
設定を行う必要があります。
例:$mail-&gt;set(&apos;host&apos;, &apos;localhost&apos;);
引数にtrueを指定すると、Smartyの
foreachでまわしやすい配列の形で返します。


*addDelete
インスタンスからaddDeleteにメッセージ番号を
入れていきます。
メッセージ番号は$mail-&gt;get(&apos;id&apos;)で取得可能です。
そして、deleteMsgメソッドへ・・・


*deleteMsg
addDeleteで追加されたIDのメッセージだけを
削除します。


*mailerinfo
所謂phpinfoみたいな機能です。
インストールされているライブラリを確認して
使える機能の一覧を返します。


*send
メールを送信するメソッドです。
引数にtrueを入れると、送信確認用の
文字列を受け取る事が出来ます(当然ですが
その場合は送信される事はありません)


*set
値をオブジェクトにセットします


*get
指定された名前の値を取得します</description>
 <lead>
  <name>FreeBSE</name>
  <user>FreeBSE</user>
  <email>freebse@live.jp</email>
  <active>yes</active>
 </lead>
 <date>2009-09-30</date>
 <time>00:27:47</time>
 <version>
  <release>2.0.0</release>
  <api>2.0.0</api>
 </version>
 <stability>
  <release>beta</release>
  <api>beta</api>
 </stability>
 <license uri="http://www.php.net/license/3_01.txt">PHP License 3.01</license>
 <notes>
------------------------------------------------------------------------
r1143 | FreeBSE | 2009-08-23 10:44:07 +0900 (日, 23  8月 2009) | 6 lines

Mail_Mailerクラスが使える機能を確認できるmailerinfoメソッドを追加
メール送信前に送信内容を確認出来る機能を追加
ほぼ疑似OR/M化
これらに伴う、メール送信部分の大幅な改良
送信部分と受信部分の構成検証メソッドの追加
送信サンプルの修正
------------------------------------------------------------------------
r1088 | FreeBSE | 2009-08-07 12:47:58 +0900 (金, 07  8月 2009) | 2 lines

添付ファイル追加メソッドaddAttachメソッドの追加
添付ファイル登録削除メソッドclearAttachメソッドの追加
------------------------------------------------------------------------
r1053 | FreeBSE | 2009-08-03 19:43:17 +0900 (月, 03  8月 2009) | 1 line

選択削除機能が、呼び出しているメソッドの仕様変更に対応していなかったのを修正
------------------------------------------------------------------------
r1034 | FreeBSE | 2009-07-30 18:11:10 +0900 (木, 30  7月 2009) | 2 lines

差出人の名前を取れていなかったので修正
サンプルのGet.phpの表示時の見栄えをよくしてみた
------------------------------------------------------------------------
r1033 | FreeBSE | 2009-07-28 08:29:24 +0900 (火, 28  7月 2009) | 1 line

is_file_exに本来のis_fileも追加
------------------------------------------------------------------------
r1032 | FreeBSE | 2009-07-27 12:06:37 +0900 (月, 27  7月 2009) | 3 lines

気変わり激しいけど、is_file関数系ならPEAR記法のisFileExよりEthna風(というよりPHP風？)のis_file_exの方が馴染みがありいいと思ったので、元に戻す
getPearメソッドの仕様をpear install風に(例:pear install Net_POP3)
設定検証の前にPOP3インスタンスを生成していたので、検証後に置き換え
------------------------------------------------------------------------
r1031 | FreeBSE | 2009-07-25 15:17:13 +0900 (土, 25  7月 2009) | 7 lines

Ethna風のis_file_exメソッドをPEAR記法に変更isFileEx
選択したメールだけ削除する機能の実装
-これに伴いサンプルのGet.phpを修正
設定情報を検証するバリデートメソッドを追加
サンプルにしつこくついていた参照代入「&amp;」を削除
いくつかのpublicメソッドのオーバーライドを禁止にした
ドキュメント部分をきちんとしたものに修正
------------------------------------------------------------------------
r1027 | FreeBSE | 2009-07-21 03:46:35 +0900 (火, 21  7月 2009) | 4 lines

Mailer interface導入
PEAR向け簡易クラスファクトリーの導入(getPearメソッド)
受信処理の改良を開始(擬似OR/M)
受信処理の修正に合わせたGet.phpの修正
------------------------------------------------------------------------
r1003 | FreeBSE | 2009-07-09 21:35:08 +0900 (木, 09  7月 2009) | 2 lines

エラー処理における表示の修正
showErrorメソッドとshowNoticeメソッドの追加
------------------------------------------------------------------------
r999 | FreeBSE | 2009-07-09 00:34:32 +0900 (木, 09  7月 2009) | 11 lines

mb_internal_encodingの設定は、インクルード側に全面的に任せた方がよいと判断したので本体から削除
ドキュメントではなくサンプルなのにmail_docだったので、sampleディレクトリに名称変更
Send.phpにおいて、旧サンプルコードになっていたので修正
Get.phpにおいて、一部が旧サンプルコードになっていたので修正
Mailer.php側の一部の引数に旧引数が含まれていたので削除
	と、共にコメントも修正
Mailer 1.3.0時代のメール設定クラスを全体から削除(一から書いてない言がバレてしまう・・・)
CC追加専用のaddCcメソッドを追加
BCC追加専用のaddBccメソッドを追加
追加したCCを削除するclearCcメソッドを追加
追加したBCCを削除するclearBccメソッドを追加
------------------------------------------------------------------------
r954 | FreeBSE | 2009-06-12 16:49:59 +0900 (金, 12  6月 2009) | 5 lines

メソッド名がPEAR記法になっていなかったので修正
 AddBcc =&gt; addBcc
 AddCc =&gt; addCc
設定オブジェクトを返すメソッド「getMailerConfig」は使ってないのに存在していたので削除
一部コメントがPEAR_DOCに準拠していなかったので修正
------------------------------------------------------------------------
r357 | FreeBSE | 2009-01-21 00:05:23 +0900 (水, 21  1月 2009) | 3 lines

サンプルスクリプトの場所を変更
送信サンプルにおいて、肝心のインスタンスがなく、あれぇ？な状態だったのを修正
Mailerのクラス名がpear仕様でなかったのを修正 → class Mail_Mailerに
------------------------------------------------------------------------
r318 | FreeBSE | 2009-01-06 15:32:52 +0900 (火, 06  1月 2009) | 3 lines

参照代入「&amp;」の消し忘れを消去
設定漏れがあった場合に、どこの設定が漏れているか表示するようにした
ポート番号の設定がない場合にはデフォルトで110番にするようにした
------------------------------------------------------------------------
r311 | FreeBSE | 2009-01-04 22:52:53 +0900 (日, 04  1月 2009) | 9 lines

サンプルソースを送信と受信にわけた
HTMLメールだった場合の文字コード検出を追加
プレーンテキストだった場合の文字コード検出を追加
PHP4時代からの参照代入「&amp;」を削除(PHP5専用に向け)
ヘッダーを全て取得出来るようにした
上記に伴い、getMailメソッドの返値のfrom部分をheadersに変更(中身は連想配列)
ファイルの添付がない場合は、配列のfileおよびfilenameキーを削除するようにした
内部処理用エンコードの指定を一旦排除
コメントのメソッドの引数が食い違っていたので修正
------------------------------------------------------------------------
r274 | FreeBSE | 2008-12-24 22:37:27 +0900 (水, 24 12月 2008) | 1 line

 * Mail_Mailerの最初のコミット
------------------------------------------------------------------------
r120 | openpear | 2008-11-26 16:54:28 +0900 (水, 26 11月 2008) | 1 line

[Create Base Directory] Mail_Mailer
------------------------------------------------------------------------
 </notes>
 <contents>
  <dir baseinstalldir="/" name="/">
   <file baseinstalldir="/" md5sum="3b37cff78ba59d347cc6295b7d7d8c16" name="sample/日本語.zip" role="data" />
   <file baseinstalldir="/" md5sum="69d7347ade2aec2f1ca7d50a412a761a" name="sample/Get.php" role="php" />
   <file baseinstalldir="/" md5sum="2f55e00ed290ae904f048dc354271643" name="sample/Send.php" role="php" />
   <file baseinstalldir="/" md5sum="419c47a4e1ff1db8f8d5b690104c9af9" name="sample/sunrise.jpg" role="data" />
   <file baseinstalldir="/" md5sum="d15971563e1c7f3a000b44eab635ba5f" name="templates/info.tpl" role="data" />
   <file baseinstalldir="/" md5sum="03c6640ad8173be2c8606db24aed7f75" name="templates/mail_template.tpl" role="data" />
   <file baseinstalldir="/" md5sum="7869cb017166cf8af0b124e0f64d2b9a" name="Mailer.php" role="php" />
  </dir>
 </contents>
 <dependencies>
  <required>
   <php>
    <min>5.2.0</min>
   </php>
   <pearinstaller>
    <min>1.8.0</min>
   </pearinstaller>
  </required>
 </dependencies>
 <phprelease />
 <changelog>
  <release>
   <version>
    <release>2.0.0</release>
    <api>2.0.0</api>
   </version>
   <stability>
    <release>beta</release>
    <api>beta</api>
   </stability>
   <date>2009-09-30</date>
   <license uri="http://www.php.net/license/3_01.txt">PHP License 3.01</license>
   <notes>
------------------------------------------------------------------------
r1143 | FreeBSE | 2009-08-23 10:44:07 +0900 (日, 23  8月 2009) | 6 lines

Mail_Mailerクラスが使える機能を確認できるmailerinfoメソッドを追加
メール送信前に送信内容を確認出来る機能を追加
ほぼ疑似OR/M化
これらに伴う、メール送信部分の大幅な改良
送信部分と受信部分の構成検証メソッドの追加
送信サンプルの修正
------------------------------------------------------------------------
r1088 | FreeBSE | 2009-08-07 12:47:58 +0900 (金, 07  8月 2009) | 2 lines

添付ファイル追加メソッドaddAttachメソッドの追加
添付ファイル登録削除メソッドclearAttachメソッドの追加
------------------------------------------------------------------------
r1053 | FreeBSE | 2009-08-03 19:43:17 +0900 (月, 03  8月 2009) | 1 line

選択削除機能が、呼び出しているメソッドの仕様変更に対応していなかったのを修正
------------------------------------------------------------------------
r1034 | FreeBSE | 2009-07-30 18:11:10 +0900 (木, 30  7月 2009) | 2 lines

差出人の名前を取れていなかったので修正
サンプルのGet.phpの表示時の見栄えをよくしてみた
------------------------------------------------------------------------
r1033 | FreeBSE | 2009-07-28 08:29:24 +0900 (火, 28  7月 2009) | 1 line

is_file_exに本来のis_fileも追加
------------------------------------------------------------------------
r1032 | FreeBSE | 2009-07-27 12:06:37 +0900 (月, 27  7月 2009) | 3 lines

気変わり激しいけど、is_file関数系ならPEAR記法のisFileExよりEthna風(というよりPHP風？)のis_file_exの方が馴染みがありいいと思ったので、元に戻す
getPearメソッドの仕様をpear install風に(例:pear install Net_POP3)
設定検証の前にPOP3インスタンスを生成していたので、検証後に置き換え
------------------------------------------------------------------------
r1031 | FreeBSE | 2009-07-25 15:17:13 +0900 (土, 25  7月 2009) | 7 lines

Ethna風のis_file_exメソッドをPEAR記法に変更isFileEx
選択したメールだけ削除する機能の実装
-これに伴いサンプルのGet.phpを修正
設定情報を検証するバリデートメソッドを追加
サンプルにしつこくついていた参照代入「&amp;」を削除
いくつかのpublicメソッドのオーバーライドを禁止にした
ドキュメント部分をきちんとしたものに修正
------------------------------------------------------------------------
r1027 | FreeBSE | 2009-07-21 03:46:35 +0900 (火, 21  7月 2009) | 4 lines

Mailer interface導入
PEAR向け簡易クラスファクトリーの導入(getPearメソッド)
受信処理の改良を開始(擬似OR/M)
受信処理の修正に合わせたGet.phpの修正
------------------------------------------------------------------------
r1003 | FreeBSE | 2009-07-09 21:35:08 +0900 (木, 09  7月 2009) | 2 lines

エラー処理における表示の修正
showErrorメソッドとshowNoticeメソッドの追加
------------------------------------------------------------------------
r999 | FreeBSE | 2009-07-09 00:34:32 +0900 (木, 09  7月 2009) | 11 lines

mb_internal_encodingの設定は、インクルード側に全面的に任せた方がよいと判断したので本体から削除
ドキュメントではなくサンプルなのにmail_docだったので、sampleディレクトリに名称変更
Send.phpにおいて、旧サンプルコードになっていたので修正
Get.phpにおいて、一部が旧サンプルコードになっていたので修正
Mailer.php側の一部の引数に旧引数が含まれていたので削除
	と、共にコメントも修正
Mailer 1.3.0時代のメール設定クラスを全体から削除(一から書いてない言がバレてしまう・・・)
CC追加専用のaddCcメソッドを追加
BCC追加専用のaddBccメソッドを追加
追加したCCを削除するclearCcメソッドを追加
追加したBCCを削除するclearBccメソッドを追加
------------------------------------------------------------------------
r954 | FreeBSE | 2009-06-12 16:49:59 +0900 (金, 12  6月 2009) | 5 lines

メソッド名がPEAR記法になっていなかったので修正
 AddBcc =&gt; addBcc
 AddCc =&gt; addCc
設定オブジェクトを返すメソッド「getMailerConfig」は使ってないのに存在していたので削除
一部コメントがPEAR_DOCに準拠していなかったので修正
------------------------------------------------------------------------
r357 | FreeBSE | 2009-01-21 00:05:23 +0900 (水, 21  1月 2009) | 3 lines

サンプルスクリプトの場所を変更
送信サンプルにおいて、肝心のインスタンスがなく、あれぇ？な状態だったのを修正
Mailerのクラス名がpear仕様でなかったのを修正 → class Mail_Mailerに
------------------------------------------------------------------------
r318 | FreeBSE | 2009-01-06 15:32:52 +0900 (火, 06  1月 2009) | 3 lines

参照代入「&amp;」の消し忘れを消去
設定漏れがあった場合に、どこの設定が漏れているか表示するようにした
ポート番号の設定がない場合にはデフォルトで110番にするようにした
------------------------------------------------------------------------
r311 | FreeBSE | 2009-01-04 22:52:53 +0900 (日, 04  1月 2009) | 9 lines

サンプルソースを送信と受信にわけた
HTMLメールだった場合の文字コード検出を追加
プレーンテキストだった場合の文字コード検出を追加
PHP4時代からの参照代入「&amp;」を削除(PHP5専用に向け)
ヘッダーを全て取得出来るようにした
上記に伴い、getMailメソッドの返値のfrom部分をheadersに変更(中身は連想配列)
ファイルの添付がない場合は、配列のfileおよびfilenameキーを削除するようにした
内部処理用エンコードの指定を一旦排除
コメントのメソッドの引数が食い違っていたので修正
------------------------------------------------------------------------
r274 | FreeBSE | 2008-12-24 22:37:27 +0900 (水, 24 12月 2008) | 1 line

 * Mail_Mailerの最初のコミット
------------------------------------------------------------------------
r120 | openpear | 2008-11-26 16:54:28 +0900 (水, 26 11月 2008) | 1 line

[Create Base Directory] Mail_Mailer
------------------------------------------------------------------------
   </notes>
  </release>
 </changelog>
</package>
